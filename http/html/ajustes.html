<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../css/ajustes.css" rel="stylesheet">
    <script src="./socket.io/socket.io.js"></script>
    <script>const socket = io();</script>
    <title>Ajustes</title>
</head>
<body>
    <h1>Elementos Visibles</h1>
    <div class="elementos">
        <button onclick="visuales(this); sendText(this.innerText);">Log</button>
        <button onclick="visuales(this); sendText(this.innerText);">Mensaje</button>
        <button onclick="visuales(this); sendText(this.innerText);">Timer</button>
        <button onclick="visuales(this); sendText(this.innerText);">Logo</button>
    </div>
    <h1>Color bordes</h1>
    <div class="elementos">
        <button onclick="ColorBorde(this); sendText(this.innerText);" style="background-color: black;">Negro</button>
        <button onclick="ColorBorde(this); sendText(this.innerText);" style="background-color:white; color:black"">Blanco</button>
        <button onclick="ColorBorde(this); sendText(this.innerText);" style="background-color:red;">Rojo</button>
        <input type="color" id="color_selec" onchange="ColorBordePerso(this); sendText(this.value);" value="#a4d541">
    </div>

    <script>
        function visuales(element) {
            let color = window.getComputedStyle(element).backgroundColor
            if (color == "rgb(255, 73, 73)"){
                element.style.backgroundColor = "#6b1526";
                var objeto = element.innerText
            }
            else{
                element.style.backgroundColor = "#ff4949";
            }
        }
        
        function ColorBorde(element) {
            var colores = [];
            for (var i = 0; i < element.parentElement.childElementCount; i++) {
                colores.push(window.getComputedStyle(element.parentElement.children[i]).backgroundColor);
            }

            for (var x = 0; x < colores.length; x++) {
                if (colores[x] == "rgb(255, 73, 73)") {
                    element.parentElement.children[0].style.backgroundColor = "black"
                    element.parentElement.children[1].style.backgroundColor = "white"
                    element.parentElement.children[2].style.backgroundColor = "red"
                }
            element.parentElement.children[3].style.backgroundColor = "#a4d541"
            element.parentElement.children[3].value = "#a4d541"
            element.style.backgroundColor = "rgb(255, 73, 73)";
            }
        }

        function ColorBordePerso(element) {
            let color = element.value

            var colores = [];
            for (var i = 0; i < element.parentElement.childElementCount; i++) {
                colores.push(window.getComputedStyle(element.parentElement.children[i]).backgroundColor);
            }

            for (var x = 0; x < colores.length; x++) {
                if (colores[x] == "rgb(255, 73, 73)") {
                    element.parentElement.children[0].style.backgroundColor = "black"
                    element.parentElement.children[1].style.backgroundColor = "white"
                    element.parentElement.children[2].style.backgroundColor = "red"
                }
            element.style.backgroundColor = color;
            }  
        }
        
        async function sendText(text) {
            socket.send(text)
        }
        
        /*try {
            let response = await fetch('http://localhost:7000/ajustes.json', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({text: text})
            });
            if (!response.ok) {
                throw new Error('Server Response not OK');
            }
            let data = await response.json();
            console.log('Success:', data);
        } catch (error) {
            console.error('Error:', error);
        }*/

    </script>
</body>
</html>
