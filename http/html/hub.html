<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link href="../css/hub.css" rel="stylesheet">
</head>
<body>
    <div id="log" class="fondos">
        <h3><b>Log</b></h3> 
        <p class="parrafos">Fecha;Hora;Temperatura;Presion;Humedad;Orientacion;Acelerometro;Giroscopio;Mangnetometro</p>
    </div>
    <dir id="mensaje" class="fondos">
        <h3><b>Mensaje</b></h3>
        <p class="parrafos">
            Sin mensajes
        </p>
    </dir>
    <dir id="logo" class="fondos">
        <img src="../bolita.png">
    </dir>
    <dir id="timer" class="fondos">
        <p id="actuhora"></p>
    </dir>
    

    <script>
        function log(){
            socket.emit("rasplog", "");

            socket.on("log", (log) => {
                var node = document.createElement("p");
                node.innerText = String(log);
                document.getElementById("log").appendChild(node);
        })
        setInterval(log, 1000);

        }
        function actualizarHora() {
            var hora = new Date();
            var horas = hora.getHours();
            var minutos = hora.getMinutes();
            var segundos = hora.getSeconds();
            
            if (horas < 10) {
                horas = "0" + horas;
            }
            if (minutos < 10) {
                minutos = "0" + minutos;
            }
            if (segundos < 10) {
                segundos = "0" + segundos;
            }
        
            var horaActual = horas + ":" + minutos + ":" + segundos;
            document.getElementById("actuhora").innerText = horaActual;
            }

        actualizarHora();
        setInterval(actualizarHora, 1000);
        
        /*function coger_datos(){
            fetch('https://api.example.com/data')
            .then(response => response.json())
            .then(data => {
                console.log(data);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        } */
        

        function actu_hud(data){
            console.log(data)
            switch(data){
                case "Log":
                    log = 0
                    if(log = 0){
                        del_log = document.getElementById("log")
                        add_log = del_log

                        document.body.removeChild(del_log)
                        log +=1
                    }
                    else{
                        document.body.appendChild(add_log)
                        log -=1
                    }
                    break;
                case "Mensaje":
                    mens = 0
                    if(mens = 0){
                        del_mens = document.getElementById("mensaje")
                        add_mens = del_mens

                        document.body.removeChild(del_mens)
                        mens +=1
                    }
                    else{
                        document.body.appendChild(add_mens)
                        mens -=1
                    }
                    break;
                case "Timer":
                    time = 0
                    if(time = 0){
                        del_time = document.getElementById("timer")
                        add_time = del_time

                        document.body.removeChild(del_time)
                        time +=1
                    }
                    else{
                        document.body.appendChild(add_time)
                        time -=1
                    }
                    break;
                case "Logo":
                    logo = 0
                    if(logo = 0){
                        del_logo = document.getElementById("logo")
                        add_logo = del_logo

                        document.body.removeChild(del_logo)
                        logo +=1
                    }
                    else{
                        document.body.appendChild(add_logo)
                        logo -=1
                    }
                    break;
                case "Negro":
                    document.body.style.borderColor = "black";
                    break;
                case "Blanco":
                    console.log("furula")
                    document.body.style.borderColor = "red";
                    break;
                case "Rojo":
                    document.body.style.borderColor = "red";
                    break;
                default:
                    document.body.style.borderColor = data;
                    break;
            }
        }

        let data = "Blanco";
        setInterval(actu_hud(data), 1000);
        //document.addEventListener('DOMContentLoaded', actu_hud(data), {
            // Aquí va el código que deseas ejecutar nada más abrir la página
        //});

        /*
        const api = 'http://localhost:7000/ajustes.json';
        async function getdatos(api){
            try {
                const response = await fetch(api);
                const data = await response.json();
                console.log(data)
            
                // Modificar elementos según las palabras clave
                switch(data.color){
                    case "rojo":
                        console.log("rojito")
                }
                switch(data){
                    case "bolita":

                    case "color":
                        switch(data[1]){
                            case "rojo":
                            console.log("rojito")
                            //document.body.style.backgroundColor = data.color;
                            case "azul":
                            document.body.style.backgroundColor = data.color;
                            default:

                        }
                        //case "tamaño":
                    //default:
                    }
            } catch (error) {
                console.error('Error al obtener los datos:', error);
            }
        }*/
        //setInterval(getdatos, 5000);
    </script>
</body>
</html>
